
namespace = change_communion

#####################################

# 0001 - Nestorians -> Catholic
# 0010 - Catholic African Church
# 1000 - New Mend Great Schism

#####################################

change_communion.0001 = {
	type = character_event
	title = change_communion.0001.t
	desc = change_communion.0001.desc
	theme = realm
	left_portrait = {
		character = scope:scoped_emperor
		animation = personality_zealous
	}

	immediate = {
		save_scope_as = scoped_emperor
		catholic_communion_nestorian_scripted_effect = yes
	}

	option = {
		name = change_communion.0001.a
	}
}

change_communion.0002 = {
	type = character_event
	title = change_communion.0001.t
	desc = change_communion.0002.desc
	theme = realm
	left_portrait = {
		character = scope:scoped_emperor
		animation = personality_zealous
	}

	option = {
		name = change_communion.0002.a
		ai_chance = {
			base = 100
		}
	}
}

change_communion.0003 = {
	type = character_event
	title = change_communion.0001.t
	desc = change_communion.0003.desc
	theme = realm
	left_portrait = {
		character = scope:scoped_emperor
		animation = personality_zealous
	}

	option = {
		name = change_communion.0003.a
		ai_chance = {
			base = 100
		}
	}
}

#Mend Schism Player Event
change_communion.1000 = {
	type = character_event
	title = change_communion.1000.t
	desc = {
		desc = change_communion.1000.desc.intro
		first_valid = {
			# Orthodox
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_orthodox_communion }
				}
				desc = change_communion.1000.desc.orthodox
			}
			# Catholic
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_catholic_communion }
				}
				desc = change_communion.1000.desc.catholic
			}
			# Oriental
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_oriental_communion }
				}
				desc = change_communion.1000.desc.oriental
			}
			# Independent
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_independent_communion }
				}
				desc = change_communion.1000.desc.independent
			}
		}
	}
	theme = realm
	left_portrait = {
		character = scope:scoped_emperor
		animation = personality_zealous
	}

	immediate = {
		play_music_cue = "mx_cue_faith_conversion"
		save_scope_as = scoped_emperor
		faith = { save_scope_as = mending_faith }
	}

	option = {
		name = change_communion.1000.a #Convert others to our communion
		ai_chance = {
			base = 20
			modifier = {
				add = 20
				has_trait = cynical
			}
		}
		new_mend_great_schism_scripted_effect = yes
		trigger_event = change_communion.1003
	}

	option = {
		name = change_communion.1000.b #Force others into our particular faith
		ai_chance = {
			base = 40
			ai_value_modifier = {
				ai_zeal = 1.0
			}
			modifier = {
				add = 20
				has_trait = zealous
			}
		}
		mend_great_schism_scripted_effect = yes
	}
}

#Notify heathens
change_communion.1001 = {
	type = character_event
	title = change_communion.1000.t
	desc = change_communion.1001.desc
	theme = realm
	left_portrait = {
		character = scope:scoped_emperor
		animation = personality_zealous
	}

	immediate = {
		#Even if you're not converting, it's still all rather momentous.
		play_music_cue = "mx_cue_faith_conversion"
	}

	option = {
		name = change_communion.1001.a
	}
}

#Notify faithful
change_communion.1002 = {
	type = character_event
	title = change_communion.1000.t
	desc = { 
		desc = change_communion.1000.desc.intro
		first_valid = {
			# Orthodox
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_orthodox_communion }
				}
				desc = change_communion.1000.desc.orthodox
			}
			# Catholic
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_catholic_communion }
				}
				desc = change_communion.1000.desc.catholic
			}
			# Oriental
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_oriental_communion }
				}
				desc = change_communion.1000.desc.oriental
			}
			# Independent
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_independent_communion }
				}
				desc = change_communion.1000.desc.independent
			}
		}
	}
	theme = realm
	left_portrait = {
		character = scope:scoped_emperor
		animation = personality_zealous
	}

	immediate = {
		#Even if you're not converting, it's still all rather momentous.
		play_music_cue = "mx_cue_faith_conversion"
	}

	option = {
		name = change_communion.1000.a
	}
}

#Roman Patriarchate
change_communion.1003 = {
	type = character_event
	theme = realm
	desc = {
		desc = change_communion.1000.desc.intro
		first_valid = {
			# Orthodox
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_orthodox_communion }
				}
				desc = change_communion.1003.desc.orthodox
			}
			# Catholic
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_catholic_communion }
				}
				desc = change_communion.1003.desc.catholic
			}
			# Oriental
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_oriental_communion }
				}
				desc = change_communion.1003.desc.oriental
			}
			# Independent
			triggered_desc = {
				trigger = {
					root.faith = { has_doctrine = special_doctrine_independent_communion }
				}
				desc = change_communion.1003.desc.independent
			}
		}
	}
	#Accept Roman & subchurches
	option = {
		name = change_communion.1003.a
	}

	#Reject Roman & subchurches
	option = {
		name = change_communion.1003.b
		trigger = {
			root.faith = {
				NOT = {
					has_doctrine = special_doctrine_catholic_communion
				}
			}
		}
	}
}

#Byzantine Patriarchate
change_communion.1004 = {

}

#Antioch Patriarchate
change_communion.1005 = {

}

#Alexandria Patriarchate
change_communion.1006 = {

}

#Jerusalem Patriarchate
change_communion.1007 = {

}

#Church of the East
change_communion.1008 = {

}

#Armenians
change_communion.1009 = {

}