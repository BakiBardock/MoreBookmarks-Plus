declare_autocephaly_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = declare_autocephaly_decision_desc
	selection_tooltip = declare_autocephaly_decision_tooltip
	major = yes

	ai_check_interval = 120

	is_shown = {
		always = no
	}

	is_valid = {
		piety_level >= medium_piety_level
		NOT = {
			liege = title:e_byzantium.holder
		}
		highest_held_title_tier > 3 #Kings & Emperors
		OR = {
			has_strong_usable_hook = title:e_byzantium.holder
			NOT = { exists = title:e_byzantium.holder }
		}
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
		is_at_war = no
	}

	effect = {
		custom_tooltip = declare_autocephaly_decision_effect_tooltip
		trigger_event = {
			id = autocephaly_decision.0001
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

reconcile_with_rome_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = reconcile_with_rome_decision_desc
	selection_tooltip = reconcile_with_rome_decision_tooltip
	major = yes

	ai_check_interval = 120

	is_shown = {
		always = no
	}

	is_valid = {
		piety_level >= high_piety_level
		NOT = {
			liege = title:e_byzantium.holder
		}
		highest_held_title_tier > 2
		OR = { 
			has_strong_usable_hook = title:k_papal_state.holder
			liege.faith = { has_doctrine = special_doctrine_catholic_communion }
		}
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
		is_at_war = no
	}

	effect = {
		custom_tooltip = reconcile_with_rome_decision_effect_tooltip
		trigger_event = {
			id = autocephaly_decision.0010
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 10

		modifier = {
			add = 20
			liege.faith = { has_doctrine = special_doctrine_catholic_communion }
		}

		modifier = {
			add = 20
			faith:orthodox = { fervor < 60 }
		}

		modifier = {
			add = 20
			faith:orthodox = { fervor < 40 }
		}

	}
}

restore_roman_patriarchate_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = restore_roman_patriarchate_decision_desc
	selection_tooltip = restore_roman_patriarchate_decision_tooltip
	major = yes

	ai_check_interval = 120

	is_shown = {
		is_ruler = yes
		is_landed = yes
		root.faith = {
			has_doctrine = special_doctrine_orthodox_communion
		}
		highest_held_title_tier > 3 #Kings & Emperors
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_roman_patriarchate
			}
		}
	}

	is_valid = {
		piety_level >= high_piety_level
		completely_controls = title:d_latium
		highest_held_title_tier > 3
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
		is_at_war = no
	}

	effect = {
		custom_tooltip = restore_roman_patriarchate_decision_effect_tooltip
		trigger_event = {
			id = autocephaly_decision.0020
		}
		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_roman_patriarchate
			}
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

#establish_latin_jerusalem_decision = {
#	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
#
#	desc = establish_latin_jerusalem_decision_desc
#	selection_tooltip = establish_latin_jerusalem_decision_tooltip
#	major = yes
#
#	ai_check_interval = 120
#
#	is_shown = {
#		is_ruler = yes
#		is_landed = yes
#		root.faith = faith:catholic
#		highest_held_title_tier > 3 #Kings & Emperors
#		NOT = {
#			is_target_in_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_jerusalem
#			}
#		}
#	}
#
#	is_valid = {
#		piety_level >= high_piety_level
#		completely_controls = title:d_palestine
#		highest_held_title_tier > 3
#	}
#
#	is_valid_showing_failures_only = {
#		is_capable_adult = yes
#		is_imprisoned = no
#		is_independent_ruler = yes
#		is_at_war = no
#	}
#
#	effect = {
#		custom_tooltip = establish_latin_jerusalem_decision_effect_tooltip
#		trigger_event = {
#			id = autocephaly_decision.0030
#		}
#		hidden_effect = {
#			add_to_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_jerusalem
#			}
#		}
#	}
#
#	ai_potential = {
#		always = yes
#	}
#
#	ai_will_do = {
#		base = 100
#	}
#}
#
#establish_latin_constantinople_decision = {
#	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
#
#	desc = establish_latin_jerusalem_decision_desc
#	selection_tooltip = establish_latin_jerusalem_decision_tooltip
#	major = yes
#
#	ai_check_interval = 120
#
#	is_shown = {
#		is_ruler = yes
#		is_landed = yes
#		root.faith = faith:catholic
#		highest_held_title_tier > 3 #Kings & Emperors
#		NOT = {
#			is_target_in_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_constantinople
#			}
#		}
#	}
#
#	is_valid = {
#		piety_level >= high_piety_level
#		completely_controls = title:d_thrace
#		highest_held_title_tier > 3
#	}
#
#	is_valid_showing_failures_only = {
#		is_capable_adult = yes
#		is_imprisoned = no
#		is_independent_ruler = yes
#		is_at_war = no
#	}
#
#	effect = {
#		custom_tooltip = establish_latin_jerusalem_decision_effect_tooltip
#		trigger_event = {
#			id = autocephaly_decision.0032
#		}
#		hidden_effect = {
#			add_to_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_constantinople
#			}
#		}
#	}
#
#	ai_potential = {
#		always = yes
#	}
#
#	ai_will_do = {
#		base = 100
#	}
#}
#
#establish_latin_antioch_decision = {
#	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
#
#	desc = establish_latin_jerusalem_decision_desc
#	selection_tooltip = establish_latin_jerusalem_decision_tooltip
#	major = yes
#
#	ai_check_interval = 120
#
#	is_shown = {
#		is_ruler = yes
#		is_landed = yes
#		root.faith = faith:catholic
#		highest_held_title_tier > 3 #Kings & Emperors
#		NOT = {
#			is_target_in_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_antioch
#			}
#		}
#	}
#
#	is_valid = {
#		piety_level >= high_piety_level
#		completely_controls = title:d_antioch
#		highest_held_title_tier > 3
#	}
#
#	is_valid_showing_failures_only = {
#		is_capable_adult = yes
#		is_imprisoned = no
#		is_independent_ruler = yes
#		is_at_war = no
#	}
#
#	effect = {
#		custom_tooltip = establish_latin_jerusalem_decision_effect_tooltip
#		trigger_event = {
#			id = autocephaly_decision.0034
#		}
#		hidden_effect = {
#			add_to_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_antioch
#			}
#		}
#	}
#
#	ai_potential = {
#		always = yes
#	}
#
#	ai_will_do = {
#		base = 100
#	}
#}
#
#establish_latin_alexandria_decision = {
#	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
#
#	desc = establish_latin_jerusalem_decision_desc
#	selection_tooltip = establish_latin_jerusalem_decision_tooltip
#	major = yes
#
#	ai_check_interval = 120
#
#	is_shown = {
#		is_ruler = yes
#		is_landed = yes
#		root.faith = faith:catholic
#		highest_held_title_tier > 3 #Kings & Emperors
#		NOT = {
#			is_target_in_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_alexandria
#			}
#		}
#	}
#
#	is_valid = {
#		piety_level >= high_piety_level
#		completely_controls = title:d_alexandria
#		highest_held_title_tier > 3
#	}
#
#	is_valid_showing_failures_only = {
#		is_capable_adult = yes
#		is_imprisoned = no
#		is_independent_ruler = yes
#		is_at_war = no
#	}
#
#	effect = {
#		custom_tooltip = establish_latin_jerusalem_decision_effect_tooltip
#		trigger_event = {
#			id = autocephaly_decision.0036
#		}
#		hidden_effect = {
#			add_to_global_variable_list = {
#				name = unavailable_unique_decisions
#				target = flag:flag_latin_alexandria
#			}
#		}
#	}
#
#	ai_potential = {
#		always = yes
#	}
#
#	ai_will_do = {
#		base = 100
#	}
#}
#

restore_school_of_edessa_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = restore_school_of_edessa_decision_desc
	selection_tooltip = restore_school_of_edessa_decision_tooltip
	major = yes

	ai_check_interval = 120

	is_shown = {
		is_ruler = yes
		is_landed = yes
		root.faith = { has_doctrine = doctrine_christology_nestorian }
		highest_held_title_tier > 3 #Kings & Emperors
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_school_edessa
			}
		}
	}

	is_valid = {
		piety_level >= high_piety_level
		completely_controls = title:d_edessa
		highest_held_title_tier > 3
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
		is_at_war = no
	}

	effect = {
		custom_tooltip = restore_school_of_edessa_decision_effect_tooltip
		trigger_event = {
			id = autocephaly_decision.0040
		}
		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_school_edessa
			}
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}


submit_to_pentarch_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = submit_to_pentarch_decision_desc
	selection_tooltip = submit_to_pentarch_decision_tooltip
	major = yes

	ai_check_interval = 120

	is_shown = {
		is_ruler = yes
		is_landed = yes
		root.faith = { has_doctrine = orthodox_autocephaly_pentarch }
		highest_held_title_tier > 1
		AND = {
			root.capital_county.faith = { has_doctrine = orthodox_autocephaly_pentarch }
			NOT = { root.faith = root.capital_county.faith }
		}
	}

	is_valid = {
		highest_held_title_tier > 1
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	effect = {
		custom_tooltip = submit_to_pentarch_decision_effect_tooltip
		root = { set_character_faith = root.capital_county.faith }
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

abandon_monothelite_maronite_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = abandon_monothelite_maronite_decision_desc
	selection_tooltip = abandon_monothelite_maronite_decision_tooltip
	major = yes

	ai_check_interval = 120

	is_shown = {
		is_ruler = yes
		is_landed = yes
		root.faith = faith:maronite
		highest_held_title_tier > 1
		root.faith = { has_doctrine = doctrine_christology_monothelite }
	}

	is_valid = {
		OR = {
			has_title = d:lebanon
			has_title = d:antioch
			liege.faith = { has_doctrine = special_doctrine_catholic_communion }
		}
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	effect = {
		custom_tooltip = abandon_monothelite_maronite_decision_effect_tooltip
		faith:maronite = {
			remove_doctrine = doctrine_christology_monothelite
			add_doctrine = doctrine_christology_diophysite
			add_doctrine = special_doctrine_catholic_communion
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}